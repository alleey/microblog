{"version":3,"file":"followers.umd.js","sources":["../../../projects/followers/src/lib/config/config.ts","../../../projects/followers/src/lib/config/public-api.ts","../../../projects/followers/src/lib/models/public-api.ts","../../../projects/followers/src/lib/services/following.service.ts","../../../projects/followers/src/lib/components/followed-by-badge/followed-by-badge.component.ts","../../../projects/followers/src/lib/components/followed-by-badge/followed-by-badge.component.html","../../../projects/followers/src/lib/components/followed-by-list-view/followed-by-list-view.component.ts","../../../projects/followers/src/lib/components/followed-by-list-view/followed-by-list-view.component.html","../../../projects/followers/src/lib/components/followed-by-list/followed-by-list.component.ts","../../../projects/followers/src/lib/components/followed-by-list/followed-by-list.component.html","../../../projects/followers/src/lib/components/following-badge/following-badge.component.ts","../../../projects/followers/src/lib/components/following-badge/following-badge.component.html","../../../projects/followers/src/lib/components/following-list-view/following-list-view.component.ts","../../../projects/followers/src/lib/components/following-list-view/following-list-view.component.html","../../../projects/followers/src/lib/components/following-list/following-list.component.ts","../../../projects/followers/src/lib/components/following-list/following-list.component.html","../../../projects/followers/src/lib/components/public-api.ts","../../../projects/followers/src/lib/services/public-api.ts","../../../projects/followers/src/lib/followers.module.ts","../../../projects/followers/src/public-api.ts","../../../projects/followers/src/followers.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport interface FollowingServiceConfig {\n  serviceBaseUrl: string,\n  defaultEndpoint: string,\n  pageSize: number,\n}\nexport const FollowingServiceConfigToken = new InjectionToken<FollowingServiceConfig>(\"FollowingServiceConfig\");\n\nexport interface FollowersModuleConfig {\n  followers: FollowingServiceConfig;\n}\nexport const FollowersModuleConfigToken = new InjectionToken<FollowersModuleConfig>(\"FollowersModuleConfig\");\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './config';\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './following';\nexport * from './following';\n","import { HttpClient } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { Observable, Subject, throwError } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { Pageable } from 'utils';\nimport { FollowingServiceConfig, FollowingServiceConfigToken } from '../config/config';\nimport { FollowedByListResponseModel, FollowedByResponseModel } from '../models/followed-by';\nimport { FollowingListResponseModel } from '../models/following';\n\nexport interface FollowRequest {\n  userId: string;\n  userName: string;\n  followedById: string;\n  followedByName: string;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FollowingService {\n\n  public onChange: Subject<any> = new Subject<any>();\n  private userProfile: any;\n\n  constructor(\n    @Inject(FollowingServiceConfigToken) \n    private config: FollowingServiceConfig,\n    private authService: OidcAuthService,\n    private httpClient: HttpClient) \n  { \n    this.authService.userSubject.subscribe(profile => {\n      this.userProfile = profile;\n    });\n  }\n\n  public followedByOne(endpoint: string, userId: string, followedById: string): Observable<FollowedByResponseModel> {\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    console.info(\"followed-by : \" + followedById);\n\n    return this.httpClient\n            .get<FollowedByResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy/${followedById}`)\n            .pipe(\n              map(data => {\n                return data as FollowedByResponseModel;\n              })\n            );\n  }\n\n  public followedBy(endpoint: string, userId: string, pageable?: Pageable): Observable<FollowedByListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowedByListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy`, {\n              params: {\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"followedByName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowedByListResponseModel;\n              })\n            );\n  }\n\n  public findFollowedByMatching(endpoint: string, userId: string, name: string, pageable?: Pageable): Observable<FollowedByListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    const query = {\n      \"conditions\": [\n        { \"attribute\": \"followedByName.fullName\", \"operator\": \"like\", \"value\": `%${name}%` }\n      ]\n    };\n    return this.httpClient\n            .get<FollowedByListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy/search`, \n            {\n              \"params\": { \n                \"q\": JSON.stringify(query),\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"followedByName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowedByListResponseModel;\n              })\n            );\n  }\n\n  public followingOne(endpoint: string, userId: string, followedById: string): Observable<FollowedByResponseModel> {\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowedByResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/${followedById}`)\n            .pipe(\n              map(data => {\n                return data as FollowedByResponseModel;\n              })\n            );\n  }\n\n  public following(endpoint: string, userId: string, pageable?: Pageable): Observable<FollowingListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowingListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following`, {\n              params: {\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"userName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowingListResponseModel;\n              })\n            );\n  }\n\n  public findFollowingMatching(endpoint: string, userId: string, name: string, pageable?: Pageable): Observable<FollowingListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    const query = {\n      \"conditions\": [\n        { \"attribute\": \"userName.fullName\", \"operator\": \"like\", \"value\": `%${name}%` }\n      ]\n    };\n    return this.httpClient\n            .get<FollowingListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/search`, \n            {\n              \"params\": { \n                \"q\": JSON.stringify(query),\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"userName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowingListResponseModel;\n              })\n            );\n  }\n\n  public follow(endpoint: string, followReq: FollowRequest): Observable<void> {\n\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n\n    followReq.followedById = !!followReq.followedById ? followReq.followedById : this.userProfile?.sub;\n    followReq.followedByName = !!followReq.followedByName ? followReq.followedByName : this.userProfile?.name;\n    const owner = followReq.followedById;\n\n    return this.httpClient\n            .put<void>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following`, followReq)\n            .pipe(\n              catchError((error: any) => {\n                return throwError(new Error(error.status));\n              }),\n              tap({\n                next: x => { this.onChange.next(x); }\n              })\n            );\n  }\n\n  public unfollow(endpoint: string, userId: string, userToUnfollow: string): Observable<void> {\n\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .delete<void>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/${userToUnfollow}`)\n            .pipe(\n              catchError((error: any) => {\n                return throwError(new Error(error.status));\n              }),\n              tap({\n                next: x => { this.onChange.next(x); }\n              })\n            );\n  }\n}\n","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { FollowedByModel, FollowedByResponseModel } from '../../models/followed-by';\nimport { FollowingService } from '../../services/following.service';\n\n@Component({\n  selector: 'followed-by-badge',\n  templateUrl: './followed-by-badge.component.html',\n  styleUrls: ['./followed-by-badge.component.css']\n})\nexport class FollowedByBadgeComponent implements OnInit {\n\n  @Input(\"userid\") userId: string = \"\";\n\n  @Input() activeControlTemplate: TemplateRef<any> | undefined;\n  @Input() inactiveControlTemplate: TemplateRef<any> | undefined;\n\n  item?: FollowedByModel;\n  loading: boolean = false;\n\n  constructor(private service: FollowingService, private authService: OidcAuthService) { \n    this.authService.userSubject.subscribe(profile => {\n      this.checkStatus();\n    });\n  }\n\n  ngOnInit(): void { }\n\n  get isActive(): boolean {\n    return this.item?.userId != undefined;\n  }\n\n  checkStatus() {\n    this.service.followedByOne(\"\", \"\", this.userId).subscribe({\n      next: (result: FollowedByResponseModel) => {\n        this.item = result;\n        this.loading = false;\n        console.log(result);\n  \n      },\n      error: (err: any) => {\n        this.loading = false;\n        console.log(err.message);\n      }\n    });\n  }\n}\n","<utils-badge \n    [isActive]=\"isActive\"\n    [activeCaption]=\"'FOLLOWS YOU'\"\n    [activeControlTemplate]=\"activeControlTemplate\"\n    [inactiveControlTemplate]=\"inactiveControlTemplate\">\n</utils-badge>","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\nimport { ViewEvent } from 'utils';\nimport { FollowedByModel } from '../../models/followed-by';\n\nexport type FollowerListViewEvent = ViewEvent<FollowedByModel>;\n\n@Component({\n  selector: 'followed-by-list-view',\n  templateUrl: './followed-by-list-view.component.html',\n  styleUrls: ['./followed-by-list-view.component.css']\n})\nexport class FollowersListViewComponent implements OnInit {\n\n  @Input() items?: FollowedByModel[];\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n\n  @Output() \n  onSelectItem = new EventEmitter<FollowerListViewEvent>();\n\n  ngOnInit(): void {}\n    \n  selectItem(item: FollowedByModel, opcode: string): void {\n    this.onSelectItem.emit({\n      opcode: opcode,\n      item: item\n    });\n  }\n}\n","<ng-container *ngIf=\"items\">\n    <ul class=\"list-group checked-list-box\">\n        <li class=\"list-group-item\" *ngFor=\"let x of items; index as i\">\n            <ng-container \n                [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: x, index: i, list: this }\">\n            </ng-container>\n        </li>\n    </ul>\n</ng-container>\n<ng-container *ngIf=\"!items\">\n    <ng-container \n        [ngTemplateOutlet]=\"noContentsTemplate || defaultNoContentsTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n</ng-container>\n\n<ng-template #defaultItemTemplate let-item let-parent=\"list\">\n    <span class=\"ml-2\" (click)=\"parent.selectItem(item, 'select')\">{{item.fullName}}</span>\n</ng-template>\n\n<ng-template #defaultNoContentsTemplate let-item>\n    The list is empty at the moment!\n</ng-template>","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Pageable, PageModel } from 'utils';\nimport { FollowingService } from '../../services/following.service';\nimport { FollowedByListResponseModel, FollowedByModel } from '../../models/followed-by';\nimport { FollowerListViewEvent } from '../followed-by-list-view/followed-by-list-view.component';\n\n@Component({\n  selector: 'followed-by-list',\n  templateUrl: './followed-by-list.component.html',\n  styleUrls: ['./followed-by-list.component.css']\n})\nexport class FollowersListComponent implements OnInit {\n\n  @Input() enableSearch: boolean = false;\n  @Input() filterText: string = '';\n\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n  @Input() headerTemplate: TemplateRef<any> | undefined;\n  @Input() footerTemplate: TemplateRef<any> | undefined;\n\n  @Input('onSelectBookmark') \n  onSelect: (topic: FollowedByModel) => void = \n    (item) => {};\n        \n  pageable: Pageable; \n  response : FollowedByListResponseModel|null;\n  errorDesc: any = \"\";\n  loading: boolean = false;\n  subscription: Subscription = new Subscription();\n\n  constructor(\n      private followersService: FollowingService, \n      private router: Router, \n      private activatedRoute: ActivatedRoute) \n  { \n    this.response = null;\n    this.pageable = {\n      page: 0\n    };\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params => {\n      const pageNum = params.pageNum ?? 0;\n      this.fetchPage(pageNum);\n    });\n    // Requery when the backend data changes\n    this.subscription.add(\n      this.followersService.onChange.subscribe({ next: () => this.fetchPage(this.pageable.page) })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  onApplyFilter(text: string): void {\n    this.filterText = text;\n    this.fetchPage(0);\n  }\n\n  responseHandler = {\n    next: (result: FollowedByListResponseModel) => {\n      this.response = result;\n      this.loading = false;\n    },\n    error: (err: any) => {\n      this.errorDesc = err.message;\n      this.loading = false;\n      console.log(this.errorDesc);\n    }\n  }\n\n  fetchPage(pageNum: number): void {\n    this.pageable.page = pageNum;\n    if(!!this.filterText)\n    {\n      this.followersService.findFollowedByMatching(\"\", \"\", this.filterText, this.pageable).subscribe(this.responseHandler);\n    }\n    else\n    {\n      this.followersService.followedBy(\"\", \"\", this.pageable).subscribe(this.responseHandler);\n    }\n  }\n\n  get items(): FollowedByModel[] | undefined {\n    return this.response?._embedded?.followedBy;\n  }\n\n  get page(): PageModel|undefined {\n    return this.response?.page;\n  }\n\n  get hasItems(): boolean {\n    return !!(this.page?.totalElements);\n  }\n\n  handleListViewEvent(evt: FollowerListViewEvent) {\n    switch(evt.opcode) {\n      case 'select': this.onSelect(evt.item); break;\n    }\n  }\n\n  gotoPage(evt:any): void {\n    this.fetchPage(evt-1);\n  }\n}\n","<div *ngIf=\"loading; else contents\">\n    <utils-loader></utils-loader>\n</div>\n\n<ng-template #contents>\n    <utils-alert *ngIf=\"errorDesc;else itemsList\" [dismissable]=\"false\" [minimal]=\"true\">\n        <p>An error occurred fetching the bookmarks list: {{ errorDesc }}</p>\n    </utils-alert>\n</ng-template>\n\n<ng-template #itemsList>\n\n    <ng-container\n        [ngTemplateOutlet]=\"headerTemplate || defaultHeaderTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n    <div class=\"py-1\">\n        <utils-search-box (onApplyFilter)=\"onApplyFilter\" *ngIf=\"enableSearch\"></utils-search-box>\n        <followed-by-list-view \n            [items]=\"items\" \n            [itemTemplate]=\"itemTemplate\"\n            [noContentsTemplate]=\"noContentsTemplate\"\n            (onSelectItem)=\"handleListViewEvent($event)\">\n        </followed-by-list-view>\n        <utils-pager [page]=\"page\" (onSelectPage)=\"gotoPage($event)\"></utils-pager>\n    </div>\n\n    <ng-container\n        [ngTemplateOutlet]=\"footerTemplate || defaultFooterTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n</ng-template>\n\n<ng-template #defaultHeaderTemplate>\n</ng-template>\n  \n<ng-template #defaultFooterTemplate>\n</ng-template>\n  ","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { FollowingModel, FollowingResponseModel } from '../../models/following';\nimport { FollowingService, FollowRequest } from '../../services/following.service';\n\n@Component({\n  selector: 'following-badge',\n  templateUrl: './following-badge.component.html',\n  styleUrls: ['./following-badge.component.css']\n})\nexport class FollowingBadgeComponent implements OnInit {\n\n  @Input(\"userid\") userId: string = \"\";\n  @Input() userName: string = \"\";\n\n  @Input() activeControlTemplate: TemplateRef<any> | undefined;\n  @Input() inactiveControlTemplate: TemplateRef<any> | undefined;\n\n  item?: FollowingModel;\n  loading: boolean = false;\n\n  constructor(private service: FollowingService, private authService: OidcAuthService) { \n    this.authService.userSubject.subscribe(profile => {\n      this.checkStatus();\n    });\n  }\n\n  ngOnInit(): void { }\n\n  get isActive(): boolean {\n    return this.item?.userId != undefined;\n  }\n\n  checkStatus() {\n    this.service.followingOne(\"\", \"\", this.userId).subscribe({\n      next: (result: FollowingResponseModel) => {\n        this.item = result;\n        this.loading = false;\n        console.log(result);\n  \n      },\n      error: (err: any) => {\n        this.loading = false;\n        console.log(err.message);\n      }\n    });\n  }\n\n  follow(): void {\n    const request: FollowRequest = {\n      userId: this.userId,\n      userName: this.userName,\n      followedById: \"\",\n      followedByName: \"\"\n    };\n    this.service.follow(\"\", request).subscribe({\n        error: (err: any) => {\n          console.log(err.message);\n        }\n      });\n  }\n\n  unfollow(): void {\n    if(this.item)\n      this.service.unfollow(\"\", \"\", this.item!.userId).subscribe({\n        next: () => {},\n        error: (err: any) => {\n          console.log(err.message);\n        }\n      });\n  }\n}\n","<utils-badge \n    [isActive]=\"isActive\"\n    [activeCaption]=\"'FOLLOWING'\"\n    [activeControlTemplate]=\"activeControlTemplate\"\n    [inactiveControlTemplate]=\"inactiveControlTemplate\"\n    (onAdd)=\"follow()\"\n    (onRemove)=\"unfollow()\">\n</utils-badge>","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\nimport { ViewEvent } from 'utils';\nimport { FollowingModel } from '../../models/following';\n\nexport type FollowingListViewEvent = ViewEvent<FollowingModel>;\n\n@Component({\n  selector: 'following-list-view',\n  templateUrl: './following-list-view.component.html',\n  styleUrls: ['./following-list-view.component.css']\n})\nexport class FollowingListViewComponent implements OnInit {\n\n  @Input() items?: FollowingModel[];\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n\n  @Output() \n  onSelectItem = new EventEmitter<FollowingListViewEvent>();\n\n  ngOnInit(): void {}\n    \n  selectItem(item: FollowingModel, opcode: string): void {\n    this.onSelectItem.emit({\n      opcode: opcode,\n      item: item\n    });\n  }\n}\n","<ng-container *ngIf=\"items\">\n    <ul class=\"list-group checked-list-box\">\n        <li class=\"list-group-item\" *ngFor=\"let x of items; index as i\">\n            <ng-container \n                [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: x, index: i, list: this }\">\n            </ng-container>\n        </li>\n    </ul>\n</ng-container>\n<ng-container *ngIf=\"!items\">\n    <ng-container \n        [ngTemplateOutlet]=\"noContentsTemplate || defaultNoContentsTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n</ng-container>\n\n<ng-template #defaultItemTemplate let-item let-parent=\"list\">\n    <span class=\"ml-2\" (click)=\"parent.selectItem(item, 'select')\">{{item.fullName}}</span>\n</ng-template>\n\n<ng-template #defaultNoContentsTemplate let-item>\n    The list is empty at the moment!\n</ng-template>","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Pageable, PageModel } from 'utils';\nimport { FollowingListResponseModel, FollowingModel } from '../../models/following';\nimport { FollowingService } from '../../services/following.service';\nimport { FollowingListViewEvent } from '../following-list-view/following-list-view.component';\n\n@Component({\n  selector: 'following-list',\n  templateUrl: './following-list.component.html',\n  styleUrls: ['./following-list.component.css']\n})\nexport class FollowingListComponent implements OnInit {\n\n  @Input() enableSearch: boolean = false;\n  @Input() filterText: string = '';\n\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n  @Input() headerTemplate: TemplateRef<any> | undefined;\n  @Input() footerTemplate: TemplateRef<any> | undefined;\n\n  @Input('onSelectBookmark') \n  onSelect: (topic: FollowingModel) => void = \n    (item) => {};\n        \n  pageable: Pageable; \n  response : FollowingListResponseModel|null;\n  errorDesc: any = \"\";\n  loading: boolean = false;\n  subscription: Subscription = new Subscription();\n\n  constructor(\n      private followersService: FollowingService, \n      private router: Router, \n      private activatedRoute: ActivatedRoute) \n  { \n    this.response = null;\n    this.pageable = {\n      page: 0\n    };\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params => {\n      const pageNum = params.pageNum ?? 0;\n      this.fetchPage(pageNum);\n    });\n    // Requery when the backend data changes\n    this.subscription.add(\n      this.followersService.onChange.subscribe({ next: () => this.fetchPage(this.pageable.page) })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  onApplyFilter(text: string): void {\n    this.filterText = text;\n    this.fetchPage(0);\n  }\n\n  responseHandler = {\n    next: (result: FollowingListResponseModel) => {\n      this.response = result;\n      this.loading = false;\n    },\n    error: (err: any) => {\n      this.errorDesc = err.message;\n      this.loading = false;\n      console.log(this.errorDesc);\n    }\n  }\n\n  fetchPage(pageNum: number): void {\n    this.pageable.page = pageNum;\n    if(!!this.filterText)\n    {\n      this.followersService.findFollowingMatching(\"\", \"\", this.filterText, this.pageable).subscribe(this.responseHandler);\n    }\n    else\n    {\n      this.followersService.following(\"\", \"\", this.pageable).subscribe(this.responseHandler);\n    }\n  }\n\n  get items(): FollowingModel[] | undefined {\n    return this.response?._embedded?.following;\n  }\n\n  get page(): PageModel|undefined {\n    return this.response?.page;\n  }\n\n  get hasItems(): boolean {\n    return !!(this.page?.totalElements);\n  }\n\n  handleListViewEvent(evt: FollowingListViewEvent) {\n    switch(evt.opcode) {\n      case 'select': this.onSelect(evt.item); break;\n    }\n  }\n\n  gotoPage(evt:any): void {\n    this.fetchPage(evt-1);\n  }}\n","<div *ngIf=\"loading; else contents\">\n    <utils-loader></utils-loader>\n</div>\n\n<ng-template #contents>\n    <utils-alert *ngIf=\"errorDesc;else itemsList\" [dismissable]=\"false\" [minimal]=\"true\">\n        <p>An error occurred fetching the bookmarks list: {{ errorDesc }}</p>\n    </utils-alert>\n</ng-template>\n\n<ng-template #itemsList>\n\n    <ng-container\n        [ngTemplateOutlet]=\"headerTemplate || defaultHeaderTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n    <div class=\"py-1\">\n        <utils-search-box (onApplyFilter)=\"onApplyFilter\" *ngIf=\"enableSearch\"></utils-search-box>\n        <following-list-view \n            [items]=\"items\" \n            [itemTemplate]=\"itemTemplate\"\n            [noContentsTemplate]=\"noContentsTemplate\"\n            (onSelectItem)=\"handleListViewEvent($event)\">\n        </following-list-view>\n        <utils-pager [page]=\"page\" (onSelectPage)=\"gotoPage($event)\"></utils-pager>\n    </div>\n\n    <ng-container\n        [ngTemplateOutlet]=\"footerTemplate || defaultFooterTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n</ng-template>\n\n<ng-template #defaultHeaderTemplate>\n</ng-template>\n  \n<ng-template #defaultFooterTemplate>\n</ng-template>\n  ","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './followed-by-badge/followed-by-badge.component';\nexport * from './followed-by-list/followed-by-list.component';\nexport * from './followed-by-list-view/followed-by-list-view.component';\nexport * from './following-badge/following-badge.component';\nexport * from './following-list/following-list.component';\nexport * from './following-list-view/following-list-view.component';\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './following.service';\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { OidcAuthModule } from 'auth-oidc';\nimport { UtilsModule } from 'utils';\nimport { FollowersModuleConfig, FollowingServiceConfigToken } from './config/config';\nimport { FollowingService } from './services/public-api';\nimport { FollowersListViewComponent } from './components/followed-by-list-view/followed-by-list-view.component';\nimport { FollowersListComponent } from './components/followed-by-list/followed-by-list.component';\nimport { FollowingListViewComponent } from './components/following-list-view/following-list-view.component';\nimport { FollowingListComponent } from './components/following-list/following-list.component';\nimport { FollowedByBadgeComponent } from './components/followed-by-badge/followed-by-badge.component';\nimport { FollowingBadgeComponent } from './components/following-badge/following-badge.component';\n\n@NgModule({\n  declarations: [\n    FollowersListViewComponent,\n    FollowersListComponent,\n    FollowingListViewComponent,\n    FollowingListComponent,\n    FollowedByBadgeComponent,\n    FollowingBadgeComponent,\n  ],\n  imports: [\n    CommonModule,\n    OidcAuthModule.forChild(),\n    UtilsModule\n  ],\n  exports: [\n    FollowersListViewComponent,\n    FollowersListComponent,\n    FollowingListViewComponent,\n    FollowingListComponent,\n    FollowedByBadgeComponent,\n    FollowingBadgeComponent,\n  ]\n})\nexport class FollowersModule { \n\n  static forRoot(config: FollowersModuleConfig): ModuleWithProviders<FollowersModule> {\n    return {\n      ngModule: FollowersModule,\n      providers: [\n        FollowingService,\n        {\n          provide: FollowingServiceConfigToken,\n          useValue: config.followers\n        }\n      ]\n    }\n  }\n\n}\n","/*\n * Public API Surface of followers\n */\n\nexport * from './lib/config/public-api';\nexport * from './lib/models/public-api';\nexport * from './lib/components/public-api';\nexport * from './lib/services/public-api';\nexport * from './lib/followers.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["InjectionToken","Subject","map","catchError","throwError","tap","Injectable","Inject","Component","Input","EventEmitter","Output","Subscription","CommonModule","UtilsModule","OidcAuthModule","NgModule"],"mappings":"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"}