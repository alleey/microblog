{"version":3,"file":"followers.js","sources":["../../../projects/followers/src/lib/config/config.ts","../../../projects/followers/src/lib/config/public-api.ts","../../../projects/followers/src/lib/models/public-api.ts","../../../projects/followers/src/lib/services/following.service.ts","../../../projects/followers/src/lib/components/followed-by-badge/followed-by-badge.component.ts","../../../projects/followers/src/lib/components/followed-by-badge/followed-by-badge.component.html","../../../projects/followers/src/lib/components/followed-by-list-view/followed-by-list-view.component.ts","../../../projects/followers/src/lib/components/followed-by-list-view/followed-by-list-view.component.html","../../../projects/followers/src/lib/components/followed-by-list/followed-by-list.component.ts","../../../projects/followers/src/lib/components/followed-by-list/followed-by-list.component.html","../../../projects/followers/src/lib/components/following-badge/following-badge.component.ts","../../../projects/followers/src/lib/components/following-badge/following-badge.component.html","../../../projects/followers/src/lib/components/following-list-view/following-list-view.component.ts","../../../projects/followers/src/lib/components/following-list-view/following-list-view.component.html","../../../projects/followers/src/lib/components/following-list/following-list.component.ts","../../../projects/followers/src/lib/components/following-list/following-list.component.html","../../../projects/followers/src/lib/components/public-api.ts","../../../projects/followers/src/lib/services/public-api.ts","../../../projects/followers/src/lib/followers.module.ts","../../../projects/followers/src/public-api.ts","../../../projects/followers/src/followers.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport interface FollowingServiceConfig {\n  serviceBaseUrl: string,\n  defaultEndpoint: string,\n  pageSize: number,\n}\nexport const FollowingServiceConfigToken = new InjectionToken<FollowingServiceConfig>(\"FollowingServiceConfig\");\n\nexport interface FollowersModuleConfig {\n  followers: FollowingServiceConfig;\n}\nexport const FollowersModuleConfigToken = new InjectionToken<FollowersModuleConfig>(\"FollowersModuleConfig\");\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './config';\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './following';\nexport * from './following';\n","import { HttpClient } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { Observable, Subject, throwError } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { Pageable } from 'utils';\nimport { FollowingServiceConfig, FollowingServiceConfigToken } from '../config/config';\nimport { FollowedByListResponseModel, FollowedByResponseModel } from '../models/followed-by';\nimport { FollowingListResponseModel } from '../models/following';\n\nexport interface FollowRequest {\n  userId: string;\n  userName: string;\n  followedById: string;\n  followedByName: string;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FollowingService {\n\n  public onChange: Subject<any> = new Subject<any>();\n  private userProfile: any;\n\n  constructor(\n    @Inject(FollowingServiceConfigToken) \n    private config: FollowingServiceConfig,\n    private authService: OidcAuthService,\n    private httpClient: HttpClient) \n  { \n    this.authService.userSubject.subscribe(profile => {\n      this.userProfile = profile;\n    });\n  }\n\n  public followedByOne(endpoint: string, userId: string, followedById: string): Observable<FollowedByResponseModel> {\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    console.info(\"followed-by : \" + followedById);\n\n    return this.httpClient\n            .get<FollowedByResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy/${followedById}`)\n            .pipe(\n              map(data => {\n                return data as FollowedByResponseModel;\n              })\n            );\n  }\n\n  public followedBy(endpoint: string, userId: string, pageable?: Pageable): Observable<FollowedByListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowedByListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy`, {\n              params: {\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"followedByName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowedByListResponseModel;\n              })\n            );\n  }\n\n  public findFollowedByMatching(endpoint: string, userId: string, name: string, pageable?: Pageable): Observable<FollowedByListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    const query = {\n      \"conditions\": [\n        { \"attribute\": \"followedByName.fullName\", \"operator\": \"like\", \"value\": `%${name}%` }\n      ]\n    };\n    return this.httpClient\n            .get<FollowedByListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/followedBy/search`, \n            {\n              \"params\": { \n                \"q\": JSON.stringify(query),\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"followedByName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowedByListResponseModel;\n              })\n            );\n  }\n\n  public followingOne(endpoint: string, userId: string, followedById: string): Observable<FollowedByResponseModel> {\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowedByResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/${followedById}`)\n            .pipe(\n              map(data => {\n                return data as FollowedByResponseModel;\n              })\n            );\n  }\n\n  public following(endpoint: string, userId: string, pageable?: Pageable): Observable<FollowingListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .get<FollowingListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following`, {\n              params: {\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"userName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowingListResponseModel;\n              })\n            );\n  }\n\n  public findFollowingMatching(endpoint: string, userId: string, name: string, pageable?: Pageable): Observable<FollowingListResponseModel> {\n\n    const page: number = pageable ? pageable.page : 0;\n    const pageSize: number = (pageable && pageable.limit) ? pageable.limit : this.config.pageSize;\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    const query = {\n      \"conditions\": [\n        { \"attribute\": \"userName.fullName\", \"operator\": \"like\", \"value\": `%${name}%` }\n      ]\n    };\n    return this.httpClient\n            .get<FollowingListResponseModel>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/search`, \n            {\n              \"params\": { \n                \"q\": JSON.stringify(query),\n                \"page\": page.toString(),\n                \"size\": pageSize.toString(),\n                \"sort\": \"userName,asc\"\n              }\n            })\n            .pipe(\n              map(data => {\n                return data as FollowingListResponseModel;\n              })\n            );\n  }\n\n  public follow(endpoint: string, followReq: FollowRequest): Observable<void> {\n\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n\n    followReq.followedById = !!followReq.followedById ? followReq.followedById : this.userProfile?.sub;\n    followReq.followedByName = !!followReq.followedByName ? followReq.followedByName : this.userProfile?.name;\n    const owner = followReq.followedById;\n\n    return this.httpClient\n            .put<void>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following`, followReq)\n            .pipe(\n              catchError((error: any) => {\n                return throwError(new Error(error.status));\n              }),\n              tap({\n                next: x => { this.onChange.next(x); }\n              })\n            );\n  }\n\n  public unfollow(endpoint: string, userId: string, userToUnfollow: string): Observable<void> {\n\n    const apiEndpoint = endpoint ? endpoint : this.config.defaultEndpoint;\n    const owner = !!userId ? userId : this.userProfile?.sub;\n\n    return this.httpClient\n            .delete<void>(`${this.config.serviceBaseUrl}/${apiEndpoint}/${owner}/following/${userToUnfollow}`)\n            .pipe(\n              catchError((error: any) => {\n                return throwError(new Error(error.status));\n              }),\n              tap({\n                next: x => { this.onChange.next(x); }\n              })\n            );\n  }\n}\n","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { FollowedByModel, FollowedByResponseModel } from '../../models/followed-by';\nimport { FollowingService } from '../../services/following.service';\n\n@Component({\n  selector: 'followed-by-badge',\n  templateUrl: './followed-by-badge.component.html',\n  styleUrls: ['./followed-by-badge.component.css']\n})\nexport class FollowedByBadgeComponent implements OnInit {\n\n  @Input(\"userid\") userId: string = \"\";\n\n  @Input() activeControlTemplate: TemplateRef<any> | undefined;\n  @Input() inactiveControlTemplate: TemplateRef<any> | undefined;\n\n  item?: FollowedByModel;\n  loading: boolean = false;\n\n  constructor(private service: FollowingService, private authService: OidcAuthService) { \n    this.authService.userSubject.subscribe(profile => {\n      this.checkStatus();\n    });\n  }\n\n  ngOnInit(): void { }\n\n  get isActive(): boolean {\n    return this.item?.userId != undefined;\n  }\n\n  checkStatus() {\n    this.service.followedByOne(\"\", \"\", this.userId).subscribe({\n      next: (result: FollowedByResponseModel) => {\n        this.item = result;\n        this.loading = false;\n        console.log(result);\n  \n      },\n      error: (err: any) => {\n        this.loading = false;\n        console.log(err.message);\n      }\n    });\n  }\n}\n","<utils-badge \n    [isActive]=\"isActive\"\n    [activeCaption]=\"'FOLLOWS YOU'\"\n    [activeControlTemplate]=\"activeControlTemplate\"\n    [inactiveControlTemplate]=\"inactiveControlTemplate\">\n</utils-badge>","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\nimport { ViewEvent } from 'utils';\nimport { FollowedByModel } from '../../models/followed-by';\n\nexport type FollowerListViewEvent = ViewEvent<FollowedByModel>;\n\n@Component({\n  selector: 'followed-by-list-view',\n  templateUrl: './followed-by-list-view.component.html',\n  styleUrls: ['./followed-by-list-view.component.css']\n})\nexport class FollowersListViewComponent implements OnInit {\n\n  @Input() items?: FollowedByModel[];\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n\n  @Output() \n  onSelectItem = new EventEmitter<FollowerListViewEvent>();\n\n  ngOnInit(): void {}\n    \n  selectItem(item: FollowedByModel, opcode: string): void {\n    this.onSelectItem.emit({\n      opcode: opcode,\n      item: item\n    });\n  }\n}\n","<ng-container *ngIf=\"items\">\n    <ul class=\"list-group checked-list-box\">\n        <li class=\"list-group-item\" *ngFor=\"let x of items; index as i\">\n            <ng-container \n                [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: x, index: i, list: this }\">\n            </ng-container>\n        </li>\n    </ul>\n</ng-container>\n<ng-container *ngIf=\"!items\">\n    <ng-container \n        [ngTemplateOutlet]=\"noContentsTemplate || defaultNoContentsTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n</ng-container>\n\n<ng-template #defaultItemTemplate let-item let-parent=\"list\">\n    <span class=\"ml-2\" (click)=\"parent.selectItem(item, 'select')\">{{item.fullName}}</span>\n</ng-template>\n\n<ng-template #defaultNoContentsTemplate let-item>\n    The list is empty at the moment!\n</ng-template>","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Pageable, PageModel } from 'utils';\nimport { FollowingService } from '../../services/following.service';\nimport { FollowedByListResponseModel, FollowedByModel } from '../../models/followed-by';\nimport { FollowerListViewEvent } from '../followed-by-list-view/followed-by-list-view.component';\n\n@Component({\n  selector: 'followed-by-list',\n  templateUrl: './followed-by-list.component.html',\n  styleUrls: ['./followed-by-list.component.css']\n})\nexport class FollowersListComponent implements OnInit {\n\n  @Input() enableSearch: boolean = false;\n  @Input() filterText: string = '';\n\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n  @Input() headerTemplate: TemplateRef<any> | undefined;\n  @Input() footerTemplate: TemplateRef<any> | undefined;\n\n  @Input('onSelectBookmark') \n  onSelect: (topic: FollowedByModel) => void = \n    (item) => {};\n        \n  pageable: Pageable; \n  response : FollowedByListResponseModel|null;\n  errorDesc: any = \"\";\n  loading: boolean = false;\n  subscription: Subscription = new Subscription();\n\n  constructor(\n      private followersService: FollowingService, \n      private router: Router, \n      private activatedRoute: ActivatedRoute) \n  { \n    this.response = null;\n    this.pageable = {\n      page: 0\n    };\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params => {\n      const pageNum = params.pageNum ?? 0;\n      this.fetchPage(pageNum);\n    });\n    // Requery when the backend data changes\n    this.subscription.add(\n      this.followersService.onChange.subscribe({ next: () => this.fetchPage(this.pageable.page) })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  onApplyFilter(text: string): void {\n    this.filterText = text;\n    this.fetchPage(0);\n  }\n\n  responseHandler = {\n    next: (result: FollowedByListResponseModel) => {\n      this.response = result;\n      this.loading = false;\n    },\n    error: (err: any) => {\n      this.errorDesc = err.message;\n      this.loading = false;\n      console.log(this.errorDesc);\n    }\n  }\n\n  fetchPage(pageNum: number): void {\n    this.pageable.page = pageNum;\n    if(!!this.filterText)\n    {\n      this.followersService.findFollowedByMatching(\"\", \"\", this.filterText, this.pageable).subscribe(this.responseHandler);\n    }\n    else\n    {\n      this.followersService.followedBy(\"\", \"\", this.pageable).subscribe(this.responseHandler);\n    }\n  }\n\n  get items(): FollowedByModel[] | undefined {\n    return this.response?._embedded?.followedBy;\n  }\n\n  get page(): PageModel|undefined {\n    return this.response?.page;\n  }\n\n  get hasItems(): boolean {\n    return !!(this.page?.totalElements);\n  }\n\n  handleListViewEvent(evt: FollowerListViewEvent) {\n    switch(evt.opcode) {\n      case 'select': this.onSelect(evt.item); break;\n    }\n  }\n\n  gotoPage(evt:any): void {\n    this.fetchPage(evt-1);\n  }\n}\n","<div *ngIf=\"loading; else contents\">\n    <utils-loader></utils-loader>\n</div>\n\n<ng-template #contents>\n    <utils-alert *ngIf=\"errorDesc;else itemsList\" [dismissable]=\"false\" [minimal]=\"true\">\n        <p>An error occurred fetching the bookmarks list: {{ errorDesc }}</p>\n    </utils-alert>\n</ng-template>\n\n<ng-template #itemsList>\n\n    <ng-container\n        [ngTemplateOutlet]=\"headerTemplate || defaultHeaderTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n    <div class=\"py-1\">\n        <utils-search-box (onApplyFilter)=\"onApplyFilter\" *ngIf=\"enableSearch\"></utils-search-box>\n        <followed-by-list-view \n            [items]=\"items\" \n            [itemTemplate]=\"itemTemplate\"\n            [noContentsTemplate]=\"noContentsTemplate\"\n            (onSelectItem)=\"handleListViewEvent($event)\">\n        </followed-by-list-view>\n        <utils-pager [page]=\"page\" (onSelectPage)=\"gotoPage($event)\"></utils-pager>\n    </div>\n\n    <ng-container\n        [ngTemplateOutlet]=\"footerTemplate || defaultFooterTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n</ng-template>\n\n<ng-template #defaultHeaderTemplate>\n</ng-template>\n  \n<ng-template #defaultFooterTemplate>\n</ng-template>\n  ","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { OidcAuthService } from 'auth-oidc';\nimport { FollowingModel, FollowingResponseModel } from '../../models/following';\nimport { FollowingService, FollowRequest } from '../../services/following.service';\n\n@Component({\n  selector: 'following-badge',\n  templateUrl: './following-badge.component.html',\n  styleUrls: ['./following-badge.component.css']\n})\nexport class FollowingBadgeComponent implements OnInit {\n\n  @Input(\"userid\") userId: string = \"\";\n  @Input() userName: string = \"\";\n\n  @Input() activeControlTemplate: TemplateRef<any> | undefined;\n  @Input() inactiveControlTemplate: TemplateRef<any> | undefined;\n\n  item?: FollowingModel;\n  loading: boolean = false;\n\n  constructor(private service: FollowingService, private authService: OidcAuthService) { \n    this.authService.userSubject.subscribe(profile => {\n      this.checkStatus();\n    });\n  }\n\n  ngOnInit(): void { }\n\n  get isActive(): boolean {\n    return this.item?.userId != undefined;\n  }\n\n  checkStatus() {\n    this.service.followingOne(\"\", \"\", this.userId).subscribe({\n      next: (result: FollowingResponseModel) => {\n        this.item = result;\n        this.loading = false;\n        console.log(result);\n  \n      },\n      error: (err: any) => {\n        this.loading = false;\n        console.log(err.message);\n      }\n    });\n  }\n\n  follow(): void {\n    const request: FollowRequest = {\n      userId: this.userId,\n      userName: this.userName,\n      followedById: \"\",\n      followedByName: \"\"\n    };\n    this.service.follow(\"\", request).subscribe({\n        error: (err: any) => {\n          console.log(err.message);\n        }\n      });\n  }\n\n  unfollow(): void {\n    if(this.item)\n      this.service.unfollow(\"\", \"\", this.item!.userId).subscribe({\n        next: () => {},\n        error: (err: any) => {\n          console.log(err.message);\n        }\n      });\n  }\n}\n","<utils-badge \n    [isActive]=\"isActive\"\n    [activeCaption]=\"'FOLLOWING'\"\n    [activeControlTemplate]=\"activeControlTemplate\"\n    [inactiveControlTemplate]=\"inactiveControlTemplate\"\n    (onAdd)=\"follow()\"\n    (onRemove)=\"unfollow()\">\n</utils-badge>","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\nimport { ViewEvent } from 'utils';\nimport { FollowingModel } from '../../models/following';\n\nexport type FollowingListViewEvent = ViewEvent<FollowingModel>;\n\n@Component({\n  selector: 'following-list-view',\n  templateUrl: './following-list-view.component.html',\n  styleUrls: ['./following-list-view.component.css']\n})\nexport class FollowingListViewComponent implements OnInit {\n\n  @Input() items?: FollowingModel[];\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n\n  @Output() \n  onSelectItem = new EventEmitter<FollowingListViewEvent>();\n\n  ngOnInit(): void {}\n    \n  selectItem(item: FollowingModel, opcode: string): void {\n    this.onSelectItem.emit({\n      opcode: opcode,\n      item: item\n    });\n  }\n}\n","<ng-container *ngIf=\"items\">\n    <ul class=\"list-group checked-list-box\">\n        <li class=\"list-group-item\" *ngFor=\"let x of items; index as i\">\n            <ng-container \n                [ngTemplateOutlet]=\"itemTemplate || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: x, index: i, list: this }\">\n            </ng-container>\n        </li>\n    </ul>\n</ng-container>\n<ng-container *ngIf=\"!items\">\n    <ng-container \n        [ngTemplateOutlet]=\"noContentsTemplate || defaultNoContentsTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n</ng-container>\n\n<ng-template #defaultItemTemplate let-item let-parent=\"list\">\n    <span class=\"ml-2\" (click)=\"parent.selectItem(item, 'select')\">{{item.fullName}}</span>\n</ng-template>\n\n<ng-template #defaultNoContentsTemplate let-item>\n    The list is empty at the moment!\n</ng-template>","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Pageable, PageModel } from 'utils';\nimport { FollowingListResponseModel, FollowingModel } from '../../models/following';\nimport { FollowingService } from '../../services/following.service';\nimport { FollowingListViewEvent } from '../following-list-view/following-list-view.component';\n\n@Component({\n  selector: 'following-list',\n  templateUrl: './following-list.component.html',\n  styleUrls: ['./following-list.component.css']\n})\nexport class FollowingListComponent implements OnInit {\n\n  @Input() enableSearch: boolean = false;\n  @Input() filterText: string = '';\n\n  @Input() itemTemplate: TemplateRef<any> | undefined;\n  @Input() noContentsTemplate: TemplateRef<any> | undefined;\n  @Input() headerTemplate: TemplateRef<any> | undefined;\n  @Input() footerTemplate: TemplateRef<any> | undefined;\n\n  @Input('onSelectBookmark') \n  onSelect: (topic: FollowingModel) => void = \n    (item) => {};\n        \n  pageable: Pageable; \n  response : FollowingListResponseModel|null;\n  errorDesc: any = \"\";\n  loading: boolean = false;\n  subscription: Subscription = new Subscription();\n\n  constructor(\n      private followersService: FollowingService, \n      private router: Router, \n      private activatedRoute: ActivatedRoute) \n  { \n    this.response = null;\n    this.pageable = {\n      page: 0\n    };\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params => {\n      const pageNum = params.pageNum ?? 0;\n      this.fetchPage(pageNum);\n    });\n    // Requery when the backend data changes\n    this.subscription.add(\n      this.followersService.onChange.subscribe({ next: () => this.fetchPage(this.pageable.page) })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  onApplyFilter(text: string): void {\n    this.filterText = text;\n    this.fetchPage(0);\n  }\n\n  responseHandler = {\n    next: (result: FollowingListResponseModel) => {\n      this.response = result;\n      this.loading = false;\n    },\n    error: (err: any) => {\n      this.errorDesc = err.message;\n      this.loading = false;\n      console.log(this.errorDesc);\n    }\n  }\n\n  fetchPage(pageNum: number): void {\n    this.pageable.page = pageNum;\n    if(!!this.filterText)\n    {\n      this.followersService.findFollowingMatching(\"\", \"\", this.filterText, this.pageable).subscribe(this.responseHandler);\n    }\n    else\n    {\n      this.followersService.following(\"\", \"\", this.pageable).subscribe(this.responseHandler);\n    }\n  }\n\n  get items(): FollowingModel[] | undefined {\n    return this.response?._embedded?.following;\n  }\n\n  get page(): PageModel|undefined {\n    return this.response?.page;\n  }\n\n  get hasItems(): boolean {\n    return !!(this.page?.totalElements);\n  }\n\n  handleListViewEvent(evt: FollowingListViewEvent) {\n    switch(evt.opcode) {\n      case 'select': this.onSelect(evt.item); break;\n    }\n  }\n\n  gotoPage(evt:any): void {\n    this.fetchPage(evt-1);\n  }}\n","<div *ngIf=\"loading; else contents\">\n    <utils-loader></utils-loader>\n</div>\n\n<ng-template #contents>\n    <utils-alert *ngIf=\"errorDesc;else itemsList\" [dismissable]=\"false\" [minimal]=\"true\">\n        <p>An error occurred fetching the bookmarks list: {{ errorDesc }}</p>\n    </utils-alert>\n</ng-template>\n\n<ng-template #itemsList>\n\n    <ng-container\n        [ngTemplateOutlet]=\"headerTemplate || defaultHeaderTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n    <div class=\"py-1\">\n        <utils-search-box (onApplyFilter)=\"onApplyFilter\" *ngIf=\"enableSearch\"></utils-search-box>\n        <following-list-view \n            [items]=\"items\" \n            [itemTemplate]=\"itemTemplate\"\n            [noContentsTemplate]=\"noContentsTemplate\"\n            (onSelectItem)=\"handleListViewEvent($event)\">\n        </following-list-view>\n        <utils-pager [page]=\"page\" (onSelectPage)=\"gotoPage($event)\"></utils-pager>\n    </div>\n\n    <ng-container\n        [ngTemplateOutlet]=\"footerTemplate || defaultFooterTemplate\"\n        [ngTemplateOutletContext]=\"{ $implicit: this }\">\n    </ng-container>\n\n</ng-template>\n\n<ng-template #defaultHeaderTemplate>\n</ng-template>\n  \n<ng-template #defaultFooterTemplate>\n</ng-template>\n  ","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './followed-by-badge/followed-by-badge.component';\nexport * from './followed-by-list/followed-by-list.component';\nexport * from './followed-by-list-view/followed-by-list-view.component';\nexport * from './following-badge/following-badge.component';\nexport * from './following-list/following-list.component';\nexport * from './following-list-view/following-list-view.component';\n","/*\n * Public API Surface of bookmarks\n */\n\nexport * from './following.service';\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { OidcAuthModule } from 'auth-oidc';\nimport { UtilsModule } from 'utils';\nimport { FollowersModuleConfig, FollowingServiceConfigToken } from './config/config';\nimport { FollowingService } from './services/public-api';\nimport { FollowersListViewComponent } from './components/followed-by-list-view/followed-by-list-view.component';\nimport { FollowersListComponent } from './components/followed-by-list/followed-by-list.component';\nimport { FollowingListViewComponent } from './components/following-list-view/following-list-view.component';\nimport { FollowingListComponent } from './components/following-list/following-list.component';\nimport { FollowedByBadgeComponent } from './components/followed-by-badge/followed-by-badge.component';\nimport { FollowingBadgeComponent } from './components/following-badge/following-badge.component';\n\n@NgModule({\n  declarations: [\n    FollowersListViewComponent,\n    FollowersListComponent,\n    FollowingListViewComponent,\n    FollowingListComponent,\n    FollowedByBadgeComponent,\n    FollowingBadgeComponent,\n  ],\n  imports: [\n    CommonModule,\n    OidcAuthModule.forChild(),\n    UtilsModule\n  ],\n  exports: [\n    FollowersListViewComponent,\n    FollowersListComponent,\n    FollowingListViewComponent,\n    FollowingListComponent,\n    FollowedByBadgeComponent,\n    FollowingBadgeComponent,\n  ]\n})\nexport class FollowersModule { \n\n  static forRoot(config: FollowersModuleConfig): ModuleWithProviders<FollowersModule> {\n    return {\n      ngModule: FollowersModule,\n      providers: [\n        FollowingService,\n        {\n          provide: FollowingServiceConfigToken,\n          useValue: config.followers\n        }\n      ]\n    }\n  }\n\n}\n","/*\n * Public API Surface of followers\n */\n\nexport * from './lib/config/public-api';\nexport * from './lib/models/public-api';\nexport * from './lib/components/public-api';\nexport * from './lib/services/public-api';\nexport * from './lib/followers.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}