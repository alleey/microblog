import { of } from 'rxjs';
import { map } from 'rxjs/operators';
export function uniqueSlugValidator(postService) {
    return (control) => {
        var slug = control.value;
        if (!slug || control.pristine) {
            return of(null);
        }
        return postService.findBySlug("", slug).pipe(map(response => !!response.page.totalElements ? { 'slugExists': true } : null));
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pcXVlLXNsdWctdmFsaWRhdG9yLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Jsb2cvc3JjL2xpYi92YWxpZGF0b3JzL3VuaXF1ZS1zbHVnLXZhbGlkYXRvci5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMxQixPQUFPLEVBQUUsR0FBRyxFQUFPLE1BQU0sZ0JBQWdCLENBQUM7QUFJMUMsTUFBTSxVQUFVLG1CQUFtQixDQUFDLFdBQXlCO0lBRTNELE9BQU8sQ0FBQyxPQUF3QixFQUFrQyxFQUFFO1FBRWhFLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsUUFBUSxFQUFFO1lBQzdCLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxXQUFXLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQ3hDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBQyxZQUFZLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUM3RSxDQUFDO0lBQ1IsQ0FBQyxDQUFBO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0Q29udHJvbCwgQXN5bmNWYWxpZGF0b3JGbiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBvc3RzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3Bvc3RzLnNlcnZpY2UnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVTbHVnVmFsaWRhdG9yKHBvc3RTZXJ2aWNlOiBQb3N0c1NlcnZpY2UpOiBBc3luY1ZhbGlkYXRvckZuIFxue1xuICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHtba2V5OiBzdHJpbmddOiBib29sZWFufSB8IGFueSA9PiBcbiAge1xuICAgICAgdmFyIHNsdWcgPSBjb250cm9sLnZhbHVlO1xuICAgICAgaWYgKCFzbHVnIHx8IGNvbnRyb2wucHJpc3RpbmUpIHtcbiAgICAgICAgcmV0dXJuIG9mKG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBvc3RTZXJ2aWNlLmZpbmRCeVNsdWcoXCJcIiwgc2x1ZykucGlwZShcbiAgICAgICAgICBtYXAocmVzcG9uc2UgPT4gISFyZXNwb25zZS5wYWdlLnRvdGFsRWxlbWVudHMgPyB7J3NsdWdFeGlzdHMnOiB0cnVlfSA6IG51bGwpXG4gICAgICAgICk7XG4gIH1cbn1cbiJdfQ==