import { Component, EventEmitter, Input, Output } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../topic-list-view/topic-list-view.component";
import * as i2 from "../comment-editor/comment-editor.component";
import * as i3 from "../comment-list/comment-list.component";
import * as i4 from "@angular/common";
import * as i5 from "auth-oidc";
import * as i6 from "utils";
export class BlogPostViewComponent {
    constructor() {
        this.enableComments = true;
        this.onSelectItem = new EventEmitter();
    }
    ngOnInit() { }
    get postId() {
        return this.post.id;
    }
    selectItem(item, opcode) {
        this.onSelectItem.emit({
            opcode: opcode,
            item: item
        });
    }
}
BlogPostViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.4", ngImport: i0, type: BlogPostViewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
BlogPostViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.0.4", type: BlogPostViewComponent, selector: "blog-post-view", inputs: { post: "post", topics: "topics", enableComments: "enableComments", headerTemplate: "headerTemplate", contentTemplate: "contentTemplate", footerTemplate: "footerTemplate" }, outputs: { onSelectItem: "onSelectItem" }, ngImport: i0, template: "<div *ngIf=\"post\" class=\"bg-light p-4\">\n\n  <ng-container \n    [ngTemplateOutlet]=\"headerTemplate || defaultHeaderTemplate\"\n    [ngTemplateOutletContext]=\"{ $implicit: post, list: this }\">\n  </ng-container>\n\n  <ng-container \n    [ngTemplateOutlet]=\"contentTemplate || defaultContentTemplate\"\n    [ngTemplateOutletContext]=\"{ $implicit: post, list: this }\">\n  </ng-container>\n\n  <ng-container \n    [ngTemplateOutlet]=\"footerTemplate || defaultFooterTemplate\"\n    [ngTemplateOutletContext]=\"{ $implicit: post, list: this }\">\n  </ng-container>\n\n</div>\n\n<ng-template #defaultContentTemplate let-item let-parent=\"list\">\n  <p class=\"posttext \">\n    {{item.text}}\n  </p>\n  <h5>Posted under Topics:</h5>\n  <blog-topic-list-view [topics]=\"topics\"></blog-topic-list-view>\n  <hr class=\"my-4\">\n  <ng-container *ngIf=\"parent.enableComments\">\n    <comment-editor [updateMode]=\"false\" *authRequireLogin=\"true\"></comment-editor>\n    <hr class=\"my-4\">\n    <h5>Comments:</h5>\n    <div class=\"mb-3 col-sm-12\">\n      <blog-comment-list [postId]=\"postId\"></blog-comment-list>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #defaultHeaderTemplate let-item let-parent=\"list\">\n  <div class=\"d-flex justify-content-between\">\n    <div>\n      <h2 class=\"blog-post-list-post-title\">{{item.title}}</h2>\n      <div class=\"created\"> {{item.owner}} created the post on {{item.createdOn | prettyDate }}.</div>\n    </div>\n    <div class=\"d-flex justify-content-between\">\n      <div class=\"ml-1\" *authRequireOwner=\"item.owner\">\n        <a class=\"btn btn-success\" role=\"button\" (click)=\"parent.selectItem(item, 'edit')\">Edit</a>\n      </div>\n      <div class=\"ml-1\" *authRequireOwner=\"item.owner\">\n        <a class=\"btn btn-success\" role=\"button\" (click)=\"parent.selectItem(item, 'delete')\">Delete</a>\n      </div>\n    </div>\n  </div>\n  <hr class=\"my-4\">\n</ng-template>\n\n<ng-template #defaultFooterTemplate let-item>\n  <div class=\"d-flex\">\n  </div>\n  <hr class=\"my-4\">\n</ng-template>\n", styles: [""], components: [{ type: i1.TopicListViewComponent, selector: "blog-topic-list-view", inputs: ["topics", "itemTemplate", "noContentsTemplate"], outputs: ["onSelectItem"] }, { type: i2.CommentEditorComponent, selector: "comment-editor", inputs: ["headerTemplate", "postId", "commentId", "updateMode"] }, { type: i3.CommentListComponent, selector: "blog-comment-list", inputs: ["postId", "noContentsTemplate", "itemTemplate", "headerTemplate", "footerTemplate"] }], directives: [{ type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i4.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i5.RequireLoginDirective, selector: "[authRequireLogin]", inputs: ["authRequireLogin", "authRequireLoginElse", "authRequireLoginThen"] }, { type: i5.RequireOwnerDirective, selector: "[authRequireOwner]", inputs: ["authRequireOwner", "authRequireOwnerElse", "authRequireOwnerThen"] }], pipes: { "prettyDate": i6.PrettyDatePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.4", ngImport: i0, type: BlogPostViewComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'blog-post-view',
                    templateUrl: './blog-post-view.component.html',
                    styleUrls: ['./blog-post-view.component.scss']
                }]
        }], ctorParameters: function () { return []; }, propDecorators: { post: [{
                type: Input
            }], topics: [{
                type: Input
            }], enableComments: [{
                type: Input
            }], headerTemplate: [{
                type: Input
            }], contentTemplate: [{
                type: Input
            }], footerTemplate: [{
                type: Input
            }], onSelectItem: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxvZy1wb3N0LXZpZXcuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYmxvZy9zcmMvbGliL2NvbXBvbmVudHMvYmxvZy1wb3N0LXZpZXcvYmxvZy1wb3N0LXZpZXcuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYmxvZy9zcmMvbGliL2NvbXBvbmVudHMvYmxvZy1wb3N0LXZpZXcvYmxvZy1wb3N0LXZpZXcuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBZSxNQUFNLGVBQWUsQ0FBQzs7Ozs7Ozs7QUFZNUYsTUFBTSxPQUFPLHFCQUFxQjtJQVloQztRQVJTLG1CQUFjLEdBQVksSUFBSSxDQUFDO1FBTTlCLGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQXFCLENBQUM7SUFFL0MsQ0FBQztJQUVqQixRQUFRLEtBQVcsQ0FBQztJQUVwQixJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxVQUFVLENBQUMsSUFBbUIsRUFBRSxNQUFjO1FBQzVDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQ3JCLE1BQU0sRUFBRSxNQUFNO1lBQ2QsSUFBSSxFQUFFLElBQUk7U0FDWCxDQUFDLENBQUM7SUFDTCxDQUFDOztrSEF6QlUscUJBQXFCO3NHQUFyQixxQkFBcUIsdVJDWmxDLDJpRUEyREE7MkZEL0NhLHFCQUFxQjtrQkFMakMsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsZ0JBQWdCO29CQUMxQixXQUFXLEVBQUUsaUNBQWlDO29CQUM5QyxTQUFTLEVBQUUsQ0FBQyxpQ0FBaUMsQ0FBQztpQkFDL0M7MEVBR1UsSUFBSTtzQkFBWixLQUFLO2dCQUNHLE1BQU07c0JBQWQsS0FBSztnQkFDRyxjQUFjO3NCQUF0QixLQUFLO2dCQUVHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csZUFBZTtzQkFBdkIsS0FBSztnQkFDRyxjQUFjO3NCQUF0QixLQUFLO2dCQUVJLFlBQVk7c0JBQXJCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmlld0V2ZW50IH0gZnJvbSAndXRpbHMnO1xuaW1wb3J0IHsgQmxvZ1Bvc3RNb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy9ibG9nLXBvc3QnO1xuaW1wb3J0IHsgVG9waWNNb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy90b3BpYyc7XG5cbmV4cG9ydCB0eXBlIEJsb2dQb3N0Vmlld0V2ZW50ID0gVmlld0V2ZW50PEJsb2dQb3N0TW9kZWw+O1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdibG9nLXBvc3QtdmlldycsXG4gIHRlbXBsYXRlVXJsOiAnLi9ibG9nLXBvc3Qtdmlldy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2Jsb2ctcG9zdC12aWV3LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQmxvZ1Bvc3RWaWV3Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSBwb3N0ITogQmxvZ1Bvc3RNb2RlbDtcbiAgQElucHV0KCkgdG9waWNzITogVG9waWNNb2RlbFtdO1xuICBASW5wdXQoKSBlbmFibGVDb21tZW50czogYm9vbGVhbiA9IHRydWU7XG5cbiAgQElucHV0KCkgaGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT4gfCB1bmRlZmluZWQ7XG4gIEBJbnB1dCgpIGNvbnRlbnRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PiB8IHVuZGVmaW5lZDtcbiAgQElucHV0KCkgZm9vdGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT4gfCB1bmRlZmluZWQ7XG5cbiAgQE91dHB1dCgpIG9uU2VsZWN0SXRlbSA9IG5ldyBFdmVudEVtaXR0ZXI8QmxvZ1Bvc3RWaWV3RXZlbnQ+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHsgfVxuXG4gIGdldCBwb3N0SWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0LmlkO1xuICB9XG5cbiAgc2VsZWN0SXRlbShpdGVtOiBCbG9nUG9zdE1vZGVsLCBvcGNvZGU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMub25TZWxlY3RJdGVtLmVtaXQoe1xuICAgICAgb3Bjb2RlOiBvcGNvZGUsXG4gICAgICBpdGVtOiBpdGVtXG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgKm5nSWY9XCJwb3N0XCIgY2xhc3M9XCJiZy1saWdodCBwLTRcIj5cblxuICA8bmctY29udGFpbmVyIFxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImhlYWRlclRlbXBsYXRlIHx8IGRlZmF1bHRIZWFkZXJUZW1wbGF0ZVwiXG4gICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBwb3N0LCBsaXN0OiB0aGlzIH1cIj5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLWNvbnRhaW5lciBcbiAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJjb250ZW50VGVtcGxhdGUgfHwgZGVmYXVsdENvbnRlbnRUZW1wbGF0ZVwiXG4gICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBwb3N0LCBsaXN0OiB0aGlzIH1cIj5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLWNvbnRhaW5lciBcbiAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJmb290ZXJUZW1wbGF0ZSB8fCBkZWZhdWx0Rm9vdGVyVGVtcGxhdGVcIlxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogcG9zdCwgbGlzdDogdGhpcyB9XCI+XG4gIDwvbmctY29udGFpbmVyPlxuXG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNkZWZhdWx0Q29udGVudFRlbXBsYXRlIGxldC1pdGVtIGxldC1wYXJlbnQ9XCJsaXN0XCI+XG4gIDxwIGNsYXNzPVwicG9zdHRleHQgXCI+XG4gICAge3tpdGVtLnRleHR9fVxuICA8L3A+XG4gIDxoNT5Qb3N0ZWQgdW5kZXIgVG9waWNzOjwvaDU+XG4gIDxibG9nLXRvcGljLWxpc3QtdmlldyBbdG9waWNzXT1cInRvcGljc1wiPjwvYmxvZy10b3BpYy1saXN0LXZpZXc+XG4gIDxociBjbGFzcz1cIm15LTRcIj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInBhcmVudC5lbmFibGVDb21tZW50c1wiPlxuICAgIDxjb21tZW50LWVkaXRvciBbdXBkYXRlTW9kZV09XCJmYWxzZVwiICphdXRoUmVxdWlyZUxvZ2luPVwidHJ1ZVwiPjwvY29tbWVudC1lZGl0b3I+XG4gICAgPGhyIGNsYXNzPVwibXktNFwiPlxuICAgIDxoNT5Db21tZW50czo8L2g1PlxuICAgIDxkaXYgY2xhc3M9XCJtYi0zIGNvbC1zbS0xMlwiPlxuICAgICAgPGJsb2ctY29tbWVudC1saXN0IFtwb3N0SWRdPVwicG9zdElkXCI+PC9ibG9nLWNvbW1lbnQtbGlzdD5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI2RlZmF1bHRIZWFkZXJUZW1wbGF0ZSBsZXQtaXRlbSBsZXQtcGFyZW50PVwibGlzdFwiPlxuICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XG4gICAgPGRpdj5cbiAgICAgIDxoMiBjbGFzcz1cImJsb2ctcG9zdC1saXN0LXBvc3QtdGl0bGVcIj57e2l0ZW0udGl0bGV9fTwvaDI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3JlYXRlZFwiPiB7e2l0ZW0ub3duZXJ9fSBjcmVhdGVkIHRoZSBwb3N0IG9uIHt7aXRlbS5jcmVhdGVkT24gfCBwcmV0dHlEYXRlIH19LjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtbC0xXCIgKmF1dGhSZXF1aXJlT3duZXI9XCJpdGVtLm93bmVyXCI+XG4gICAgICAgIDxhIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzXCIgcm9sZT1cImJ1dHRvblwiIChjbGljayk9XCJwYXJlbnQuc2VsZWN0SXRlbShpdGVtLCAnZWRpdCcpXCI+RWRpdDwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1sLTFcIiAqYXV0aFJlcXVpcmVPd25lcj1cIml0ZW0ub3duZXJcIj5cbiAgICAgICAgPGEgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIiByb2xlPVwiYnV0dG9uXCIgKGNsaWNrKT1cInBhcmVudC5zZWxlY3RJdGVtKGl0ZW0sICdkZWxldGUnKVwiPkRlbGV0ZTwvYT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGhyIGNsYXNzPVwibXktNFwiPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNkZWZhdWx0Rm9vdGVyVGVtcGxhdGUgbGV0LWl0ZW0+XG4gIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cbiAgPC9kaXY+XG4gIDxociBjbGFzcz1cIm15LTRcIj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=